<!DOCTYPE html>
<html lang="en">
    <head>
        <title>feedReader - RSS Feed Reader</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    </head>
    <script>
        function getAmount()
        {
            let length = document.getElementsByClassName("articles").length;
            
            let div = document.getElementById("articleAmount");
            let p = document.createElement('p');
            p.className = "bottom-text";
            let content = document.createTextNode(length.toString() + " articles currently loaded.");

            p.appendChild(content);
            div.appendChild(p);
        }
    </script>

    <body onload="getAmount()">
        <div id="articleAmount"></div>

        {% if settings.auto_refresh_feeds == 'True' %}
            {% set time = settings.refresh_feeds_interval_in_seconds %}
            <meta http-equiv="refresh" content="{{ time }}">
        {% endif %}
        
        {% if settings.hide_refresh_button == 'False' %}
            <a class="floater" href="http://127.0.0.1:5000/"> ðŸ”„ </a>
        {% endif %}

        {% for item in articles %}
        <div class="articles">
            <a href ="{{ item[4] }}" target="_blank" rel="noopener noreferrer" class="title-text" >{{ item[0] }}</a>
            <br>
            <a class="bottom-text"> {{ item[5] }} / </a>
            <a class="bottom-text"> {{ item[1] }}   </a> 
            <details>
                <summary>
                </summary>
                    <p class="summary-text" target="_blank" rel="noopener noreferrer">
                        {{ item[3]|safe }}
                        <br>
                    </p>
            </details>
        </div>
        <br>
        {% endfor %}
        
    </body>
</html>
